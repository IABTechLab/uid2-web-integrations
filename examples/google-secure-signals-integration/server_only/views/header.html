<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>UID2 Publisher Standard Integration Example</title>
    <link rel="stylesheet" type="text/css" href="/stylesheets/app.css" />
    <link rel="shortcut icon" href="/images/favicon.png" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script async src="https://cdn.integ.uidapi.com/uid2SecureSignal.js"></script>
    <script async src="https://securepubads.g.doubleclick.net/tag/js/gpt.js"></script>

    <script type="text/javascript">
      const getUid2AdvertisingToken = async () => {
        const response = await fetch('/getFreshToken');
        const result = await response.json();
        console.log(result);
        return result.advertising_token;
      };

      window.getUid2AdvertisingToken = getUid2AdvertisingToken;

      // If uid2SecureSignalProvider is initialized before getUid2AdvertisingToken is assigned, call registerSecureSignalProvider
      if (window.__uid2SecureSignalProvider) {
        window.__uid2SecureSignalProvider.registerSecureSignalProvider();
      }
    </script>
  </head>
  <body>
    <h1>Server-Only UID2 Integration Example</h1>
    <p class="intro">
      This example demonstrates how a content publisher can use the UID2 services to implement the
      <a href="https://unifiedid.com/docs/guides/google-ss-integration#server-only-integration"
        >Server-Only Integration</a
      >. [<a
        href="https://github.com/IABTechLab/uid2-web-integrations/tree/main/examples/google-secure-signals-integration/server_only"
        >Source Code</a
      >]
    </p>
  </body>
</html>
